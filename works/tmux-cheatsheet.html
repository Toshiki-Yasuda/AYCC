<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tmux チートシート | AYCC</title>

<!-- OGP -->
<meta property="og:title" content="tmux チートシート | AYCC">
<meta property="og:description" content="tmuxの必須操作を1ページに凝縮。セッション管理・ウィンドウ・ペイン・1日の利用フローまで。">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">

<style>
  :root {
    --pink: #E91E8C;
    --purple: #9C27B0;
    --blue: #2196F3;
    --green: #4CAF50;
    --grad: linear-gradient(135deg, #E91E8C, #9C27B0, #2196F3);
    --grad-h: linear-gradient(90deg, #E91E8C, #9C27B0, #2196F3);
    --light-bg: #F8F6FC;
    --card-bg: #FFFFFF;
    --text: #1A1A2E;
    --text-sub: #555;
    --radius: 14px;
    --dark: #1A1A2E;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: "Helvetica Neue", "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
    background: var(--card-bg);
    color: var(--text);
    min-height: 100vh;
    padding: 28px 32px;
  }

  /* ===== HEADER ===== */
  .header {
    text-align: center;
    margin-bottom: 24px;
  }
  .header-bar {
    height: 4px;
    background: var(--grad-h);
    border-radius: 2px;
    margin-bottom: 18px;
  }
  .header h1 {
    font-size: 2rem;
    font-weight: 800;
    background: var(--grad);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .header .subtitle {
    font-size: 0.9rem;
    color: var(--text-sub);
    margin-top: 6px;
  }
  .back-link {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    margin-top: 10px;
    font-size: 0.75rem;
    color: var(--purple);
    text-decoration: none;
    border: 1px solid rgba(156,39,176,0.25);
    padding: 4px 12px;
    border-radius: 20px;
    transition: all 0.2s;
  }
  .back-link:hover {
    background: rgba(156,39,176,0.08);
  }

  /* ===== QUICK NAV ===== */
  .quick-nav {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 24px;
    flex-wrap: wrap;
  }
  .quick-nav a {
    padding: 6px 16px;
    border-radius: 20px;
    border: 1px solid #E8E0F0;
    font-size: 0.78rem;
    font-weight: 600;
    color: var(--text-sub);
    text-decoration: none;
    transition: all 0.2s;
  }
  .quick-nav a:hover {
    border-color: var(--purple);
    color: var(--purple);
    background: rgba(156,39,176,0.04);
  }
  .quick-nav a.active {
    background: var(--grad);
    color: white;
    border-color: transparent;
  }

  /* ===== SECTION ===== */
  .section {
    margin-bottom: 24px;
    scroll-margin-top: 20px;
  }
  .section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 14px;
  }
  .section-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    color: white;
    flex-shrink: 0;
  }
  .section-icon.pink   { background: var(--pink); }
  .section-icon.purple { background: var(--purple); }
  .section-icon.blue   { background: var(--blue); }
  .section-icon.green  { background: var(--green); }

  .section-title {
    font-size: 1.05rem;
    font-weight: 700;
    color: var(--text);
  }
  .section-subtitle {
    font-size: 0.7rem;
    color: var(--text-sub);
  }

  /* ===== TABLE ===== */
  .cmd-table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid #E8E0F0;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(156,39,176,0.04);
  }
  .cmd-table thead th {
    background: var(--light-bg);
    font-size: 0.72rem;
    font-weight: 700;
    color: var(--purple);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    padding: 10px 16px;
    text-align: left;
    border-bottom: 2px solid #E8E0F0;
  }
  .cmd-table tbody td {
    padding: 10px 16px;
    font-size: 0.82rem;
    border-bottom: 1px solid #F3EFF8;
    color: var(--text-sub);
  }
  .cmd-table tbody tr:last-child td { border-bottom: none; }
  .cmd-table tbody tr {
    transition: background 0.15s;
  }
  .cmd-table tbody tr:hover {
    background: rgba(156,39,176,0.03);
  }
  .cmd-table td:first-child {
    font-weight: 600;
    color: var(--text);
    white-space: nowrap;
  }

  kbd {
    display: inline-block;
    background: var(--dark);
    color: #80CBC4;
    padding: 2px 8px;
    border-radius: 5px;
    font-family: "SF Mono", "Fira Code", monospace;
    font-size: 0.78rem;
    font-weight: 600;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 2px 0 rgba(0,0,0,0.3);
    line-height: 1.6;
  }
  .then {
    font-size: 0.7rem;
    color: var(--purple);
    font-weight: 700;
    margin: 0 3px;
  }

  /* ===== CODE BLOCK ===== */
  .code-block {
    background: var(--dark);
    border-radius: 10px;
    padding: 16px 20px;
    position: relative;
    margin-top: 12px;
    border: 1px solid rgba(255,255,255,0.06);
  }
  .code-block pre {
    font-family: "SF Mono", "Fira Code", monospace;
    font-size: 0.76rem;
    color: #B0BEC5;
    line-height: 1.7;
    margin: 0;
    overflow-x: auto;
  }
  .code-block .comment { color: #546E7A; }
  .code-block .cmd     { color: #80CBC4; }
  .code-block .prompt  { color: var(--pink); }
  .code-block .copy-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 6px;
    padding: 3px 10px;
    font-size: 0.6rem;
    color: rgba(255,255,255,0.45);
    cursor: pointer;
    transition: all 0.2s;
  }
  .code-block .copy-btn:hover {
    background: rgba(255,255,255,0.15);
    color: rgba(255,255,255,0.7);
  }
  .code-block .copy-btn.copied {
    background: rgba(76,175,80,0.3);
    color: var(--green);
    border-color: rgba(76,175,80,0.4);
  }

  /* ===== DAILY FLOW ===== */
  .flow-timeline {
    position: relative;
    padding-left: 28px;
  }
  .flow-timeline::before {
    content: '';
    position: absolute;
    left: 12px;
    top: 0;
    bottom: 0;
    width: 3px;
    background: var(--grad);
    border-radius: 2px;
  }
  .flow-step {
    position: relative;
    margin-bottom: 20px;
  }
  .flow-step:last-child { margin-bottom: 0; }
  .flow-dot {
    position: absolute;
    left: -22px;
    top: 4px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.55rem;
    font-weight: 800;
    color: white;
    z-index: 1;
  }
  .flow-dot.morning  { background: var(--pink); }
  .flow-dot.daytime  { background: var(--purple); }
  .flow-dot.evening  { background: var(--blue); }

  .flow-label {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
  }
  .flow-time {
    font-size: 0.72rem;
    font-weight: 800;
    padding: 2px 10px;
    border-radius: 12px;
  }
  .flow-time.morning  { background: #FDE4F3; color: var(--pink); }
  .flow-time.daytime  { background: #EDE7F6; color: var(--purple); }
  .flow-time.evening  { background: #E3F2FD; color: var(--blue); }
  .flow-device {
    font-size: 0.78rem;
    font-weight: 600;
    color: var(--text);
  }
  .flow-card {
    background: var(--light-bg);
    border: 1px solid #E8E0F0;
    border-radius: 10px;
    padding: 14px 16px;
  }

  .flow-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 8px 0 8px 20px;
    gap: 6px;
  }
  .flow-arrow-text {
    font-size: 0.68rem;
    color: var(--text-sub);
  }
  .flow-arrow-key {
    font-size: 0.68rem;
  }

  /* ===== TIP BOX ===== */
  .tip-box {
    background: linear-gradient(135deg, rgba(233,30,140,0.05), rgba(33,150,243,0.05));
    border: 1px solid rgba(156,39,176,0.15);
    border-radius: 10px;
    padding: 14px 18px;
    margin-top: 14px;
    display: flex;
    gap: 10px;
    align-items: flex-start;
  }
  .tip-icon {
    flex-shrink: 0;
    font-size: 0.9rem;
    margin-top: 1px;
  }
  .tip-text {
    font-size: 0.76rem;
    color: var(--text-sub);
    line-height: 1.5;
  }
  .tip-text strong {
    color: var(--purple);
    font-weight: 700;
  }

  /* ===== PREFIX BADGE ===== */
  .prefix-explainer {
    background: var(--light-bg);
    border: 1px solid #E8E0F0;
    border-radius: var(--radius);
    padding: 16px 20px;
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 14px;
    flex-wrap: wrap;
  }
  .prefix-label {
    font-size: 0.78rem;
    font-weight: 600;
    color: var(--text);
  }
  .prefix-demo {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .prefix-note {
    font-size: 0.7rem;
    color: var(--text-sub);
    flex: 1;
    min-width: 200px;
  }

  /* ===== FOOTER ===== */
  .footer {
    text-align: center;
    padding-top: 8px;
    margin-top: 8px;
  }
  .footer-bar {
    height: 3px;
    background: var(--grad-h);
    border-radius: 2px;
    margin-bottom: 10px;
  }
  .footer-text {
    font-size: 0.7rem;
    color: #AAA;
  }
  .footer-text strong {
    background: var(--grad);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ===== RESPONSIVE ===== */
  @media (min-width: 1200px) {
    body { padding: 36px 48px; }
    .header h1 { font-size: 2.4rem; }
  }
  @media (max-width: 700px) {
    body { padding: 16px; }
    .header h1 { font-size: 1.5rem; }
    .cmd-table td, .cmd-table th { padding: 8px 10px; font-size: 0.76rem; }
    .prefix-explainer { flex-direction: column; gap: 8px; }
    kbd { font-size: 0.72rem; padding: 2px 6px; }
  }
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div class="header-bar"></div>
  <h1>tmux チートシート</h1>
  <p class="subtitle">セッション永続化の要 — 必須操作を1ページに凝縮</p>
  <a href="multi-device-architecture.html" class="back-link">← Multi-Device Architecture に戻る</a>
</div>

<!-- PREFIX EXPLAINER -->
<div class="prefix-explainer">
  <span class="prefix-label">tmuxの基本操作:</span>
  <div class="prefix-demo">
    <kbd>Ctrl+b</kbd>
    <span class="then">→</span>
    <kbd>キー</kbd>
  </div>
  <span class="prefix-note">まず <kbd>Ctrl+b</kbd>（プレフィックスキー）を押してから、続けてコマンドキーを押す</span>
</div>

<!-- QUICK NAV -->
<div class="quick-nav">
  <a href="#session">セッション</a>
  <a href="#window">ウィンドウ</a>
  <a href="#pane">ペイン</a>
  <a href="#flow">1日のフロー</a>
</div>

<!-- SESSION -->
<div class="section" id="session">
  <div class="section-header">
    <div class="section-icon pink">1</div>
    <div>
      <div class="section-title">セッション管理</div>
      <div class="section-subtitle">作業環境の起動・復帰・切り離し</div>
    </div>
  </div>
  <table class="cmd-table">
    <thead>
      <tr><th style="width:35%">操作</th><th>コマンド / キー</th></tr>
    </thead>
    <tbody>
      <tr><td>新規セッション作成</td><td><kbd>tmux new -s dev</kbd></td></tr>
      <tr><td>セッション一覧</td><td><kbd>tmux ls</kbd></td></tr>
      <tr><td>セッションに復帰</td><td><kbd>tmux a -t dev</kbd></td></tr>
      <tr><td>セッションを抜ける（維持）</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>d</kbd></td></tr>
      <tr><td>セッション名を変更</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>$</kbd></td></tr>
    </tbody>
  </table>
  <div class="tip-box">
    <span class="tip-icon">&#x1F4A1;</span>
    <div class="tip-text"><strong>detach（Ctrl+b → d）</strong>はセッションを「切り離す」だけ。VPS上でセッションは動き続けるので、別のデバイスから <kbd>tmux a -t dev</kbd> で即復帰できます。</div>
  </div>
</div>

<!-- WINDOW -->
<div class="section" id="window">
  <div class="section-header">
    <div class="section-icon purple">2</div>
    <div>
      <div class="section-title">ウィンドウ操作</div>
      <div class="section-subtitle">タブのように切り替える作業スペース</div>
    </div>
  </div>
  <table class="cmd-table">
    <thead>
      <tr><th style="width:35%">操作</th><th>キー</th></tr>
    </thead>
    <tbody>
      <tr><td>新規ウィンドウ</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>c</kbd></td></tr>
      <tr><td>次のウィンドウ</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>n</kbd></td></tr>
      <tr><td>前のウィンドウ</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>p</kbd></td></tr>
      <tr><td>番号で移動</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>0</kbd>〜<kbd>9</kbd></td></tr>
      <tr><td>ウィンドウ名変更</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>,</kbd></td></tr>
      <tr><td>ウィンドウ一覧</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>w</kbd></td></tr>
    </tbody>
  </table>
</div>

<!-- PANE -->
<div class="section" id="pane">
  <div class="section-header">
    <div class="section-icon blue">3</div>
    <div>
      <div class="section-title">ペイン（画面分割）</div>
      <div class="section-subtitle">1つのウィンドウを分割して並行作業</div>
    </div>
  </div>
  <table class="cmd-table">
    <thead>
      <tr><th style="width:35%">操作</th><th>キー</th></tr>
    </thead>
    <tbody>
      <tr><td>左右に分割</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>%</kbd></td></tr>
      <tr><td>上下に分割</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>"</kbd></td></tr>
      <tr><td>ペイン間移動</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>矢印キー</kbd></td></tr>
      <tr><td>ペインサイズ変更</td><td><kbd>Ctrl+b</kbd> 長押し + <kbd>矢印キー</kbd></td></tr>
      <tr><td>ペインを閉じる</td><td><kbd>exit</kbd> または <kbd>Ctrl+d</kbd></td></tr>
      <tr><td>ペインの全画面切替</td><td><kbd>Ctrl+b</kbd> <span class="then">→</span> <kbd>z</kbd></td></tr>
    </tbody>
  </table>
  <div class="tip-box">
    <span class="tip-icon">&#x1F4A1;</span>
    <div class="tip-text"><strong>zoom（Ctrl+b → z）</strong>で1ペインを全画面表示。もう一度押すと元のレイアウトに戻ります。Claude Codeの出力を広く見たいときに便利。</div>
  </div>
</div>

<!-- DAILY FLOW -->
<div class="section" id="flow">
  <div class="section-header">
    <div class="section-icon green">&#x21BB;</div>
    <div>
      <div class="section-title">1日の利用フロー</div>
      <div class="section-subtitle">デバイスをまたいでセッションが維持される様子</div>
    </div>
  </div>

  <div class="flow-timeline">
    <!-- Morning -->
    <div class="flow-step">
      <div class="flow-dot morning">AM</div>
      <div class="flow-label">
        <span class="flow-time morning">朝</span>
        <span class="flow-device">自宅 — Windows / Mac</span>
      </div>
      <div class="flow-card">
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this, 'mosh rocky@153.126.199.231\ntmux new -s dev\nclaude')">Copy</button>
          <pre><span class="comment"># Mosh で VPS に接続</span>
<span class="prompt">$</span> <span class="cmd">mosh rocky@153.126.199.231</span>

<span class="comment"># tmux セッションを作成して作業開始</span>
<span class="prompt">$</span> <span class="cmd">tmux new -s dev</span>

<span class="comment"># Claude Code を起動</span>
<span class="prompt">$</span> <span class="cmd">claude</span></pre>
        </div>
      </div>
    </div>

    <!-- Detach arrow -->
    <div class="flow-arrow">
      <span class="flow-arrow-text">外出前にデタッチ</span>
      <kbd style="font-size:0.68rem;">Ctrl+b → d</kbd>
    </div>

    <!-- Daytime -->
    <div class="flow-step">
      <div class="flow-dot daytime">PM</div>
      <div class="flow-label">
        <span class="flow-time daytime">日中</span>
        <span class="flow-device">外出先 — iPad / Android</span>
      </div>
      <div class="flow-card">
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this, 'mosh rocky@153.126.199.231\ntmux a -t dev')">Copy</button>
          <pre><span class="comment"># どのデバイスからでも同じ操作</span>
<span class="prompt">$</span> <span class="cmd">mosh rocky@153.126.199.231</span>

<span class="comment"># 朝のセッションにそのまま復帰</span>
<span class="prompt">$</span> <span class="cmd">tmux a -t dev</span>

<span class="comment"># → ウィンドウ・カーソル位置・実行中の処理がすべてそのまま</span></pre>
        </div>
      </div>
    </div>

    <!-- Detach arrow -->
    <div class="flow-arrow">
      <span class="flow-arrow-text">帰宅前にデタッチ</span>
      <kbd style="font-size:0.68rem;">Ctrl+b → d</kbd>
    </div>

    <!-- Evening -->
    <div class="flow-step">
      <div class="flow-dot evening">PM</div>
      <div class="flow-label">
        <span class="flow-time evening">夜</span>
        <span class="flow-device">自宅 — Windows / Mac</span>
      </div>
      <div class="flow-card">
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this, 'mosh rocky@153.126.199.231\ntmux a -t dev')">Copy</button>
          <pre><span class="comment"># 再び同じセッションに復帰</span>
<span class="prompt">$</span> <span class="cmd">mosh rocky@153.126.199.231</span>
<span class="prompt">$</span> <span class="cmd">tmux a -t dev</span>

<span class="comment"># → 1日を通してセッションが途切れていない</span>
<span class="comment"># → 朝の続きからそのまま再開</span></pre>
        </div>
      </div>
    </div>
  </div>

  <div class="tip-box" style="margin-top:20px;">
    <span class="tip-icon">&#x1F512;</span>
    <div class="tip-text"><strong>なぜ途切れないのか?</strong> tmuxセッションはVPS上で動き続けています。手元のデバイスが変わっても <kbd>tmux a</kbd> だけで全作業状態に復帰。Moshの自動再接続と組み合わせることで、通信の切断すら意識せずに作業を継続できます。</div>
  </div>
</div>

<!-- FOOTER -->
<div class="footer">
  <div class="footer-bar"></div>
  <p class="footer-text"><strong>AYCC</strong> — Anytime, Anywhere Claude Coding &nbsp;|&nbsp; tmux Cheatsheet</p>
</div>

<script>
function copyCode(btn, text) {
  navigator.clipboard.writeText(text).then(() => {
    btn.textContent = 'Copied!';
    btn.classList.add('copied');
    setTimeout(() => {
      btn.textContent = 'Copy';
      btn.classList.remove('copied');
    }, 1500);
  });
}

// Highlight active nav on scroll
const sections = document.querySelectorAll('.section');
const navLinks = document.querySelectorAll('.quick-nav a');
window.addEventListener('scroll', () => {
  let current = '';
  sections.forEach(s => {
    if (window.scrollY >= s.offsetTop - 80) current = s.id;
  });
  navLinks.forEach(a => {
    a.classList.toggle('active', a.getAttribute('href') === '#' + current);
  });
});
</script>

</body>
</html>
